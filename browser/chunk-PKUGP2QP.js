import{a as x,b as O,c as B}from"./chunk-6ECIGNIL.js";import{a as h,b as M,c as y,d as S,e as k,f as v,j as P,k as w}from"./chunk-GTE55DY3.js";import{e as _}from"./chunk-RKINTR5X.js";import"./chunk-ECD4MZXR.js";import{m as C}from"./chunk-DG2PFCDW.js";import{Da as c,Ka as f,bb as n,cb as i,db as b,jb as l,tb as r,wb as g,xb as m,ya as u,yb as p}from"./chunk-TS555NZF.js";var L=class d{constructor(a,o,e){this.usuarioService=a;this.router=o;this.snackBar=e}usuario="";contrasena="";onSubmit(a){a.preventDefault(),this.usuarioService.iniciarSesion(this.usuario,this.contrasena).subscribe({next:o=>{o.success?(this.snackBar.open(`Bienvenido, ${o.user.nombre}`,"\u2715",{duration:4e3,horizontalPosition:"right",verticalPosition:"top",panelClass:["custom-snackbar","success-snackbar"]}),this.router.navigate(["/dashboard/diseno"])):this.snackBar.open("Credenciales inv\xE1lidas","  Cerrar",{duration:3e3,panelClass:["snackbar-error"]})},error:()=>{this.snackBar.open("Error al iniciar sesi\xF3n","Cerrar",{duration:3e3,panelClass:["snackbar-error"]})}})}onForgotPassword(){alert("Funci\xF3n para recuperar contrase\xF1a pendiente")}onCancel(){this.router.navigate(["/inicio"])}static \u0275fac=function(o){return new(o||d)(c(B),c(_),c(x))};static \u0275cmp=f({type:d,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"login-container"],[1,"login-form",3,"submit"],["src","logo.png","alt","Logo Roy",1,"logo"],["type","text","name","usuario","required","",3,"ngModelChange","ngModel"],["type","password","name","contrasena","required","",3,"ngModelChange","ngModel"],[1,"buttons"],["type","submit"],["type","button",3,"click"]],template:function(o,e){o&1&&(n(0,"section",0)(1,"form",1),l("submit",function(t){return e.onSubmit(t)}),b(2,"img",2),n(3,"h2"),r(4,"Iniciar Sesi\xF3n"),i(),n(5,"label"),r(6," Usuario: "),n(7,"input",3),p("ngModelChange",function(t){return m(e.usuario,t)||(e.usuario=t),t}),i()(),n(8,"label"),r(9," Contrase\xF1a: "),n(10,"input",4),p("ngModelChange",function(t){return m(e.contrasena,t)||(e.contrasena=t),t}),i()(),n(11,"div",5)(12,"button",6),r(13,"Ingresar"),i(),n(14,"button",7),l("click",function(){return e.onForgotPassword()}),r(15,"Olvid\xE9 mi contrase\xF1a"),i(),n(16,"button",7),l("click",function(){return e.onCancel()}),r(17,"Cancelar"),i()()()()),o&2&&(u(7),g("ngModel",e.usuario),u(3),g("ngModel",e.contrasena))},dependencies:[C,w,v,h,M,y,P,k,S,O],styles:[".login-container[_ngcontent-%COMP%]{height:100vh;background-image:url(/img/Fondo.jpg);background-size:cover;background-position:center;display:flex;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{text-align:center}.logo[_ngcontent-%COMP%]{height:150px;display:block;margin:0 auto}.login-form[_ngcontent-%COMP%]{background-color:#ffffffc7;padding:2rem;border-radius:8px;box-shadow:0 0 15px #0302414d;width:320px;display:flex;flex-direction:column;gap:1rem}label[_ngcontent-%COMP%]{font-weight:700;font-family:Segoe UI,sans-serif}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-top:.3rem;border-radius:4px;border:1px solid #ccc;font-size:1rem}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.5rem}button[_ngcontent-%COMP%]{flex:1;padding:.5rem;border:none;border-radius:4px;cursor:pointer;font-weight:700;font-family:Segoe UI,sans-serif;transition:background-color .2s ease}button[type=submit][_ngcontent-%COMP%]{background-color:#015aee;color:#fff}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0043bb}button[type=button][_ngcontent-%COMP%]{background-color:#ccc}button[type=button][_ngcontent-%COMP%]:hover{background-color:#aaa}"]})};export{L as LoginComponent};
