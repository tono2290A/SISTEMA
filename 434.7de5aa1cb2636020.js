"use strict";(self.webpackChunkmi_web_informativa=self.webpackChunkmi_web_informativa||[]).push([[434],{1434:(p,u,r)=>{r.r(u),r.d(u,{LoginComponent:()=>m});var g=r(7248),a=r(4341),l=r(2766),n=r(886),d=r(1805),_=r(2981);let m=(()=>{class s{usuarioService;router;snackBar;usuario="";contrasena="";constructor(i,e,o){this.usuarioService=i,this.router=e,this.snackBar=o}onSubmit(i){i.preventDefault(),this.usuarioService.iniciarSesion(this.usuario,this.contrasena).subscribe({next:e=>{e.success?(this.snackBar.open(`Bienvenido, ${e.user.nombre}`,"\u2715",{duration:4e3,horizontalPosition:"right",verticalPosition:"top",panelClass:["custom-snackbar","success-snackbar"]}),this.router.navigate(["/dashboard/diseno"])):this.snackBar.open("Credenciales inv\xe1lidas","  Cerrar",{duration:3e3,panelClass:["snackbar-error"]})},error:()=>{this.snackBar.open("Error al iniciar sesi\xf3n","Cerrar",{duration:3e3,panelClass:["snackbar-error"]})}})}onForgotPassword(){alert("Funci\xf3n para recuperar contrase\xf1a pendiente")}onCancel(){this.router.navigate(["/inicio"])}static \u0275fac=function(e){return new(e||s)(n.rXU(d.o),n.rXU(_.Ix),n.rXU(l.UG))};static \u0275cmp=n.VBU({type:s,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"login-container"],[1,"login-form",3,"submit"],["src","logo.png","alt","Logo Roy",1,"logo"],["type","text","name","usuario","required","",3,"ngModelChange","ngModel"],["type","password","name","contrasena","required","",3,"ngModelChange","ngModel"],[1,"buttons"],["type","submit"],["type","button",3,"click"]],template:function(e,o){1&e&&(n.j41(0,"section",0)(1,"form",1),n.bIt("submit",function(t){return o.onSubmit(t)}),n.nrm(2,"img",2),n.j41(3,"h2"),n.EFF(4,"Iniciar Sesi\xf3n"),n.k0s(),n.j41(5,"label"),n.EFF(6," Usuario: "),n.j41(7,"input",3),n.mxI("ngModelChange",function(t){return n.DH7(o.usuario,t)||(o.usuario=t),t}),n.k0s()(),n.j41(8,"label"),n.EFF(9," Contrase\xf1a: "),n.j41(10,"input",4),n.mxI("ngModelChange",function(t){return n.DH7(o.contrasena,t)||(o.contrasena=t),t}),n.k0s()(),n.j41(11,"div",5)(12,"button",6),n.EFF(13,"Ingresar"),n.k0s(),n.j41(14,"button",7),n.bIt("click",function(){return o.onForgotPassword()}),n.EFF(15,"Olvid\xe9 mi contrase\xf1a"),n.k0s(),n.j41(16,"button",7),n.bIt("click",function(){return o.onCancel()}),n.EFF(17,"Cancelar"),n.k0s()()()()),2&e&&(n.R7$(7),n.R50("ngModel",o.usuario),n.R7$(3),n.R50("ngModel",o.contrasena))},dependencies:[g.MD,a.YN,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV,l._T],styles:[".login-container[_ngcontent-%COMP%]{height:100vh;background-image:url(/img/Fondo.jpg);background-size:cover;background-position:center;display:flex;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{text-align:center}.logo[_ngcontent-%COMP%]{height:150px;display:block;margin:0 auto}.login-form[_ngcontent-%COMP%]{background-color:#ffffffc7;padding:2rem;border-radius:8px;box-shadow:0 0 15px #0302414d;width:320px;display:flex;flex-direction:column;gap:1rem}label[_ngcontent-%COMP%]{font-weight:700;font-family:Segoe UI,sans-serif}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-top:.3rem;border-radius:4px;border:1px solid #ccc;font-size:1rem}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.5rem}button[_ngcontent-%COMP%]{flex:1;padding:.5rem;border:none;border-radius:4px;cursor:pointer;font-weight:700;font-family:Segoe UI,sans-serif;transition:background-color .2s ease}button[type=submit][_ngcontent-%COMP%]{background-color:#015aee;color:#fff}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0043bb}button[type=button][_ngcontent-%COMP%]{background-color:#ccc}button[type=button][_ngcontent-%COMP%]:hover{background-color:#aaa}"]})}return s})()}}]);